<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FRC AI</title>

    <!-- Bootstrap CSS (latest 5.3.x) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Optional: Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Your custom CSS (should come AFTER Bootstrap) -->
    <link rel="stylesheet" href="https://asicoltd.github.io/FRC-AI/2.css">

    <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar col-lg-2 d-none d-lg-block">
        <div class="sidebar-item active" onclick="SectionManager.loadSection('dashboard')">
            <i class="fas fa-tachometer-alt me-2"></i> Executive Dashboard
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('entity')">
            <i class="fas fa-building me-2"></i> Entity Context & Framework
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('financial-statements')">
            <i class="fas fa-file-invoice-dollar me-2"></i> Financial Statements
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('financial-analysis')">
            <i class="fas fa-chart-line me-2"></i> Financial Ratio & Trend Analysis
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('compliance')">
            <i class="fas fa-clipboard-check me-2"></i> IFRS Compliance Review
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('audit-governance')">
            <i class="fas fa-user-tie me-2"></i> Audit & Governance
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('material-departures')">
            <i class="fas fa-exclamation-triangle me-2"></i> Material Departures
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('risk-assessment')">
            <i class="fas fa-radiation me-2"></i> Integrated Risk Assessment
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('skepticism')">
            <i class="fas fa-search me-2"></i> Professional Skepticism
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('data-import')">
            <i class="fas fa-file-upload me-2"></i> Data Import & Management
        </div>
        <div class="sidebar-item" onclick="SectionManager.loadSection('report-generator')">
            <i class="fas fa-file-pdf me-2"></i> Report Generator
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Content will be dynamically loaded here -->
    </div>

    <!-- JavaScript Files - IMPORTANT: Load in correct order -->

    <!-- Configuration and Core Utilities -->
    <script src="js/config.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/notifications.js"></script>
    <script src="js/utils/charts.js"></script>

    <!-- Data Management -->
    <script src="js/data-manager.js"></script>

    <!-- UI Components -->
    <script src="js/ui-components.js"></script>

    <!-- All Section Classes (must be loaded before section-manager.js) -->
    <script src="js/sections/dashboard.js"></script>
    <script src="js/sections/entity-profile.js"></script>
    <script src="js/sections/financial-statements.js"></script>
    <script src="js/sections/financial-analysis.js"></script>
    <script src="js/sections/compliance.js"></script>
    <script src="js/sections/audit-governance.js"></script>
    <script src="js/sections/material-departures.js"></script>
    <script src="js/sections/risk-assessment.js"></script>
    <script src="js/sections/skepticism.js"></script>
    <script src="js/sections/data-import.js"></script>
    <script src="js/sections/report-generator.js"></script>

    <!-- Section Manager (must be loaded after all sections) -->
    <script src="js/section-manager.js"></script>

    <!-- Main Application (must be loaded last) -->
    <script src="js/main.js"></script>

    <!-- Debug/Helper Scripts (optional) -->
    <script>
        // Global debugging helper
        function debugAppState() {
            console.log('=== APP STATE DEBUG ===');
            console.log('Current Company ID:', appState.currentCompanyId);
            console.log('Current Section:', appState.currentSection);
            console.log('Available Companies:', appState.availableCompanies);
            console.log('Loaded JSON Files:', Object.keys(appState.allJSONData).length);
            console.log('Section Classes Loaded:');
            console.log('- Dashboard:', typeof Dashboard);
            console.log('- EntityProfile:', typeof EntityProfile);
            console.log('- FinancialStatements:', typeof FinancialStatements);
            console.log('- FinancialAnalysis:', typeof FinancialAnalysis);
            console.log('- Compliance:', typeof Compliance);
            console.log('- AuditGovernance:', typeof AuditGovernance);
            console.log('- MaterialDepartures:', typeof MaterialDepartures);
            console.log('- RiskAssessment:', typeof RiskAssessment);
            console.log('- Skepticism:', typeof Skepticism);
            console.log('- DataImport:', typeof DataImport);
            console.log('- ReportGenerator:', typeof ReportGenerator);
            console.log('SectionManager:', typeof SectionManager);
            console.log('========================');
        }

        // Call this in console if you have issues
        window.debugAppState = debugAppState;
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>

</body>

</html>